/*!
 * Parse JavaScript SDK
 * Version: 1.5.0
 * Built: Fri Jul 10 2015 17:05:46
 * http://parse.com
 *
 * Copyright 2015 Parse, LLC
 *
 * Includes: Underscore.js
 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * Released under the MIT license.
 */
!function(e){e.Parse=e.Parse||{},e.Parse.VERSION="js1.5.0"}(this)(function(){function e(e){function n(n,t,r,i,o,a){for(;o>=0&&o<a;o+=e){var u=i?i[o]:o;r=t(r,n[u],u,n)}return r}return function(t,r,i,o){r=I(r,o,4);var a=!b(t)&&g.keys(t),u=(a||t).length,s=e>0?0:u-1;return arguments.length<3&&(i=t[a?a[s]:s],s+=e),n(t,r,i,a,s,u)}}function n(e){return function(n,t,r){t=E(t,r);for(var i=O(n),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(r,i,o){var a=0,u=O(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(t&&o&&u)return o=t(r,i),r[o]===i?o:-1;if(i!==i)return o=n(f.call(r,a,u),g.isNaN),o>=0?o+a:-1;for(o=e>0?a:u-1;o>=0&&o<u;o+=e)if(r[o]===i)return o;return-1}}function r(e,n){var t=P.length,r=e.constructor,i=g.isFunction(r)&&r.prototype||u,o="constructor";for(g.has(e,o)&&!g.contains(n,o)&&n.push(o);t--;)o=P[t],o in e&&e[o]!==i[o]&&!g.contains(n,o)&&n.push(o)}var i=this,o=i._,a=Array.prototype,u=Object.prototype,s=Function.prototype,c=a.push,f=a.slice,l=u.toString,p=u.hasOwnProperty,_=Array.isArray,h=Object.keys,v=s.bind,d=Object.create,y=function(){},g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=g),exports._=g):i._=g,g.VERSION="1.8.3";var I=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return function(){return e.apply(n,arguments)}},E=function(e,n,t){return null==e?g.identity:g.isFunction(e)?I(e,n,t):g.isObject(e)?g.matcher(e):g.property(e)};g.iteratee=function(e,n){return E(e,n,1/0)};var m=function(e,n){return function(t){var r=arguments.length;if(r<2||null==t)return t;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),u=a.length,s=0;s<u;s++){var c=a[s];n&&void 0!==t[c]||(t[c]=o[c])}return t}},N=function(e){if(!g.isObject(e))return{};if(d)return d(e);y.prototype=e;var n=new y;return y.prototype=null,n},A=function(e){return function(n){return null==n?void 0:n[e]}},S=Math.pow(2,53)-1,O=A("length"),b=function(e){var n=O(e);return"number"==typeof n&&n>=0&&n<=S};g.each=g.forEach=function(e,n,t){n=I(n,t);var r,i;if(b(e))for(r=0,i=e.length;r<i;r++)n(e[r],r,e);else{var o=g.keys(e);for(r=0,i=o.length;r<i;r++)n(e[o[r]],o[r],e)}return e},g.map=g.collect=function(e,n,t){n=E(n,t);for(var r=!b(e)&&g.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=n(e[u],u,e)}return o},g.reduce=g.foldl=g.inject=e(1),g.reduceRight=g.foldr=e(-1),g.find=g.detect=function(e,n,t){var r;if(r=b(e)?g.findIndex(e,n,t):g.findKey(e,n,t),void 0!==r&&r!==-1)return e[r]},g.filter=g.select=function(e,n,t){var r=[];return n=E(n,t),g.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},g.reject=function(e,n,t){return g.filter(e,g.negate(E(n)),t)},g.every=g.all=function(e,n,t){n=E(n,t);for(var r=!b(e)&&g.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!n(e[a],a,e))return!1}return!0},g.some=g.any=function(e,n,t){n=E(n,t);for(var r=!b(e)&&g.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(n(e[a],a,e))return!0}return!1},g.contains=g.includes=g.include=function(e,n,t,r){return b(e)||(e=g.values(e)),("number"!=typeof t||r)&&(t=0),g.indexOf(e,n,t)>=0},g.invoke=function(e,n){var t=f.call(arguments,2),r=g.isFunction(n);return g.map(e,function(e){var i=r?n:e[n];return null==i?i:i.apply(e,t)})},g.pluck=function(e,n){return g.map(e,g.property(n))},g.where=function(e,n){return g.filter(e,g.matcher(n))},g.findWhere=function(e,n){return g.find(e,g.matcher(n))},g.max=function(e,n,t){var r,i,o=-(1/0),a=-(1/0);if(null==n&&null!=e){e=b(e)?e:g.values(e);for(var u=0,s=e.length;u<s;u++)r=e[u],r>o&&(o=r)}else n=E(n,t),g.each(e,function(e,t,r){i=n(e,t,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},g.min=function(e,n,t){var r,i,o=1/0,a=1/0;if(null==n&&null!=e){e=b(e)?e:g.values(e);for(var u=0,s=e.length;u<s;u++)r=e[u],r<o&&(o=r)}else n=E(n,t),g.each(e,function(e,t,r){i=n(e,t,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},g.shuffle=function(e){for(var n,t=b(e)?e:g.values(e),r=t.length,i=Array(r),o=0;o<r;o++)n=g.random(0,o),n!==o&&(i[o]=i[n]),i[n]=t[o];return i},g.sample=function(e,n,t){return null==n||t?(b(e)||(e=g.values(e)),e[g.random(e.length-1)]):g.shuffle(e).slice(0,Math.max(0,n))},g.sortBy=function(e,n,t){return n=E(n,t),g.pluck(g.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(t<r||void 0===r)return-1}return e.index-n.index}),"value")};var R=function(e){return function(n,t,r){var i={};return t=E(t,r),g.each(n,function(r,o){var a=t(r,o,n);e(i,r,a)}),i}};g.groupBy=R(function(e,n,t){g.has(e,t)?e[t].push(n):e[t]=[n]}),g.indexBy=R(function(e,n,t){e[t]=n}),g.countBy=R(function(e,n,t){g.has(e,t)?e[t]++:e[t]=1}),g.toArray=function(e){return e?g.isArray(e)?f.call(e):b(e)?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:b(e)?e.length:g.keys(e).length},g.partition=function(e,n,t){n=E(n,t);var r=[],i=[];return g.each(e,function(e,t,o){(n(e,t,o)?r:i).push(e)}),[r,i]},g.first=g.head=g.take=function(e,n,t){if(null!=e)return null==n||t?e[0]:g.initial(e,e.length-n)},g.initial=function(e,n,t){return f.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},g.last=function(e,n,t){if(null!=e)return null==n||t?e[e.length-1]:g.rest(e,Math.max(0,e.length-n))},g.rest=g.tail=g.drop=function(e,n,t){return f.call(e,null==n||t?1:n)},g.compact=function(e){return g.filter(e,g.identity)};var w=function(e,n,t,r){for(var i=[],o=0,a=r||0,u=O(e);a<u;a++){var s=e[a];if(b(s)&&(g.isArray(s)||g.isArguments(s))){n||(s=w(s,n,t));var c=0,f=s.length;for(i.length+=f;c<f;)i[o++]=s[c++]}else t||(i[o++]=s)}return i};g.flatten=function(e,n){return w(e,n,!1)},g.without=function(e){return g.difference(e,f.call(arguments,1))},g.uniq=g.unique=function(e,n,t,r){g.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=E(t,r));for(var i=[],o=[],a=0,u=O(e);a<u;a++){var s=e[a],c=t?t(s,a,e):s;n?(a&&o===c||i.push(s),o=c):t?g.contains(o,c)||(o.push(c),i.push(s)):g.contains(i,s)||i.push(s)}return i},g.union=function(){return g.uniq(w(arguments,!0,!0))},g.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=O(e);r<i;r++){var o=e[r];if(!g.contains(n,o)){for(var a=1;a<t&&g.contains(arguments[a],o);a++);a===t&&n.push(o)}}return n},g.difference=function(e){var n=w(arguments,!0,!0,1);return g.filter(e,function(e){return!g.contains(n,e)})},g.zip=function(){return g.unzip(arguments)},g.unzip=function(e){for(var n=e&&g.max(e,O).length||0,t=Array(n),r=0;r<n;r++)t[r]=g.pluck(e,r);return t},g.object=function(e,n){for(var t={},r=0,i=O(e);r<i;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},g.findIndex=n(1),g.findLastIndex=n(-1),g.sortedIndex=function(e,n,t,r){t=E(t,r,1);for(var i=t(n),o=0,a=O(e);o<a;){var u=Math.floor((o+a)/2);t(e[u])<i?o=u+1:a=u}return o},g.indexOf=t(1,g.findIndex,g.sortedIndex),g.lastIndexOf=t(-1,g.findLastIndex),g.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),o=0;o<r;o++,e+=t)i[o]=e;return i};var T=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var o=N(e.prototype),a=e.apply(o,i);return g.isObject(a)?a:o};g.bind=function(e,n){if(v&&e.bind===v)return v.apply(e,f.call(arguments,1));if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");var t=f.call(arguments,2),r=function(){return T(e,r,n,this,t.concat(f.call(arguments)))};return r},g.partial=function(e){var n=f.call(arguments,1),t=function(){for(var r=0,i=n.length,o=Array(i),a=0;a<i;a++)o[a]=n[a]===g?arguments[r++]:n[a];for(;r<arguments.length;)o.push(arguments[r++]);return T(e,t,this,this,o)};return t},g.bindAll=function(e){var n,t,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(n=1;n<r;n++)t=arguments[n],e[t]=g.bind(e[t],e);return e},g.memoize=function(e,n){var t=function(r){var i=t.cache,o=""+(n?n.apply(this,arguments):r);return g.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return t.cache={},t},g.delay=function(e,n){var t=f.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},g.defer=g.partial(g.delay,g,1),g.throttle=function(e,n,t){var r,i,o,a=null,u=0;t||(t={});var s=function(){u=t.leading===!1?0:g.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var c=g.now();u||t.leading!==!1||(u=c);var f=n-(c-u);return r=this,i=arguments,f<=0||f>n?(a&&(clearTimeout(a),a=null),u=c,o=e.apply(r,i),a||(r=i=null)):a||t.trailing===!1||(a=setTimeout(s,f)),o}},g.debounce=function(e,n,t){var r,i,o,a,u,s=function(){var c=g.now()-a;c<n&&c>=0?r=setTimeout(s,n-c):(r=null,t||(u=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=g.now();var c=t&&!r;return r||(r=setTimeout(s,n)),c&&(u=e.apply(o,i),o=i=null),u}},g.wrap=function(e,n){return g.partial(n,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},g.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},g.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},g.once=g.partial(g.before,2);var x=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];g.keys=function(e){if(!g.isObject(e))return[];if(h)return h(e);var n=[];for(var t in e)g.has(e,t)&&n.push(t);return x&&r(e,n),n},g.allKeys=function(e){if(!g.isObject(e))return[];var n=[];for(var t in e)n.push(t);return x&&r(e,n),n},g.values=function(e){for(var n=g.keys(e),t=n.length,r=Array(t),i=0;i<t;i++)r[i]=e[n[i]];return r},g.mapObject=function(e,n,t){n=E(n,t);for(var r,i=g.keys(e),o=i.length,a={},u=0;u<o;u++)r=i[u],a[r]=n(e[r],r,e);return a},g.pairs=function(e){for(var n=g.keys(e),t=n.length,r=Array(t),i=0;i<t;i++)r[i]=[n[i],e[n[i]]];return r},g.invert=function(e){for(var n={},t=g.keys(e),r=0,i=t.length;r<i;r++)n[e[t[r]]]=t[r];return n},g.functions=g.methods=function(e){var n=[];for(var t in e)g.isFunction(e[t])&&n.push(t);return n.sort()},g.extend=m(g.allKeys),g.extendOwn=g.assign=m(g.keys),g.findKey=function(e,n,t){n=E(n,t);for(var r,i=g.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],n(e[r],r,e))return r},g.pick=function(e,n,t){var r,i,o={},a=e;if(null==a)return o;g.isFunction(n)?(i=g.allKeys(a),r=I(n,t)):(i=w(arguments,!1,!1,1),r=function(e,n,t){return n in t},a=Object(a));for(var u=0,s=i.length;u<s;u++){var c=i[u],f=a[c];r(f,c,a)&&(o[c]=f)}return o},g.omit=function(e,n,t){if(g.isFunction(n))n=g.negate(n);else{var r=g.map(w(arguments,!1,!1,1),String);n=function(e,n){return!g.contains(r,n)}}return g.pick(e,n,t)},g.defaults=m(g.allKeys,!0),g.create=function(e,n){var t=N(e);return n&&g.extendOwn(t,n),t},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,n){return n(e),e},g.isMatch=function(e,n){var t=g.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=t[o];if(n[a]!==i[a]||!(a in i))return!1}return!0};var j=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof g&&(e=e._wrapped),n instanceof g&&(n=n._wrapped);var i=l.call(e);if(i!==l.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,u=n.constructor;if(a!==u&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var s=t.length;s--;)if(t[s]===e)return r[s]===n;if(t.push(e),r.push(n),o){if(s=e.length,s!==n.length)return!1;for(;s--;)if(!j(e[s],n[s],t,r))return!1}else{var c,f=g.keys(e);if(s=f.length,g.keys(n).length!==s)return!1;for(;s--;)if(c=f[s],!g.has(n,c)||!j(e[c],n[c],t,r))return!1}return t.pop(),r.pop(),!0};g.isEqual=function(e,n){return j(e,n)},g.isEmpty=function(e){return null==e||(b(e)&&(g.isArray(e)||g.isString(e)||g.isArguments(e))?0===e.length:0===g.keys(e).length)},g.isElement=function(e){return!(!e||1!==e.nodeType)},g.isArray=_||function(e){return"[object Array]"===l.call(e)},g.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){g["is"+e]=function(n){return l.call(n)==="[object "+e+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return g.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&e!==+e},g.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,n){return null!=e&&p.call(e,n)},g.noConflict=function(){return i._=o,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=A,g.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},g.matcher=g.matches=function(e){return e=g.extendOwn({},e),function(n){return g.isMatch(n,e)}},g.times=function(e,n,t){var r=Array(Math.max(0,e));n=I(n,t,1);for(var i=0;i<e;i++)r[i]=n(i);return r},g.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},g.now=Date.now||function(){return(new Date).getTime()};var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=g.invert(C),L=function(e){var n=function(n){return e[n]},t="(?:"+g.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}};g.escape=L(C),g.unescape=L(D),g.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r&&(r=t),g.isFunction(r)?r.call(e):r};var M=0;g.uniqueId=function(e){var n=++M+"";return e?e+n:n},g.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var k=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return"\\"+F[e]};g.template=function(e,n,t){!n&&t&&(n=t),n=g.defaults({},n,g.templateSettings);var r=RegExp([(n.escape||k).source,(n.interpolate||k).source,(n.evaluate||k).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(n,t,r,a,u){return o+=e.slice(i,u).replace(U,K),i=u+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}var s=function(e){return a.call(this,e,g)},c=n.variable||"obj";return s.source="function("+c+"){\n"+o+"}",s},g.chain=function(e){var n=g(e);return n._chain=!0,n};var V=function(e,n){return e._chain?g(n).chain():n};g.mixin=function(e){g.each(g.functions(e),function(n){var t=g[n]=e[n];g.prototype[n]=function(){var e=[this._wrapped];return c.apply(e,arguments),V(this,t.apply(g,e))}})},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];g.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],V(this,t)}}),g.each(["concat","join","slice"],function(e){var n=a[e];g.prototype[e]=function(){return V(this,n.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return g})}.call(this)),function(e){e.Parse=e.Parse||{};var n=e.Parse,t="function"==typeof require?require:null;"undefined"!=typeof XMLHttpRequest?n.XMLHttpRequest=XMLHttpRequest:t&&"undefined"==typeof require.ensure&&(n.XMLHttpRequest=t("xmlhttprequest").XMLHttpRequest),"undefined"!=typeof exports&&exports._?(n._=exports._.noConflict(),exports.Parse=n):n._=_.noConflict(),"undefined"!=typeof $&&(n.$=$);var r=function(){},i=function(e,t,i){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},n._.extend(o,e),r.prototype=e.prototype,o.prototype=new r,t&&n._.extend(o.prototype,t),i&&n._.extend(o,i),o.prototype.constructor=o,o.__super__=e.prototype,o};n.serverURL="https://api.parse.com","undefined"!=typeof process&&process.versions&&process.versions.node&&(n._isNode=!0),n.initialize=function(e,t,r){if(r)throw new Error("Parse.initialize() was passed a Master Key, which is only allowed from within Node.js.");n._initialize(e,t)},n._initialize=function(e,t,r){n.applicationId=e,n.javaScriptKey=t,n.masterKey=r,n._useMasterKey=!1},n._isNode&&(n.initialize=n._initialize,n.Cloud=n.Cloud||{},n.Cloud.useMasterKey=function(){n._useMasterKey=!0}),n._getParsePath=function(e){if(!n.applicationId)throw new Error("You need to call Parse.initialize before using Parse.");if(e||(e=""),!n._.isString(e))throw new Error("Tried to get a Storage path that wasn't a String.");return"/"===e[0]&&(e=e.substring(1)),"Parse/"+n.applicationId+"/"+e},n._installationId=null,n._getInstallationId=function(){if(n._installationId)return n.Promise.as(n._installationId);var e=n._getParsePath("installationId");return n.Storage.getItemAsync(e).then(function(t){if(n._installationId=t,!n._installationId||""===n._installationId){var r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return n._installationId=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),n.Storage.setItemAsync(e,n._installationId)}return n.Promise.as(n._installationId)})},n._parseDate=function(e){var n=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),t=n.exec(e);if(!t)return null;var r=t[1]||0,i=(t[2]||1)-1,o=t[3]||0,a=t[4]||0,u=t[5]||0,s=t[6]||0,c=t[8]||0;return new Date(Date.UTC(r,i,o,a,u,s,c))},n._ajaxIE8=function(e,t,r){var i=new n.Promise,o=new XDomainRequest;return o.onload=function(){var e;try{e=JSON.parse(o.responseText)}catch(n){i.reject(n)}e&&i.resolve(e)},o.onerror=o.ontimeout=function(){var e={responseText:JSON.stringify({code:n.Error.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};i.reject(e)},o.onprogress=function(){},o.open(e,t),o.send(r),i},n._useXDomainRequest=function(){return"undefined"!=typeof XDomainRequest&&!("withCredentials"in new XMLHttpRequest)},n._ajax=function(e,t,r,i,o){var a={success:i,error:o};if(n._useXDomainRequest())return n._ajaxIE8(e,t,r)._thenRunCallbacks(a);var u=new n.Promise,s=0,c=function(){var i=!1,o=new n.XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState){if(i)return;if(i=!0,o.status>=200&&o.status<300){var e;try{e=JSON.parse(o.responseText)}catch(n){u.reject(n)}e&&u.resolve(e,o.status,o)}else if(o.status>=500)if(++s<5){var t=Math.round(125*Math.random()*Math.pow(2,s));setTimeout(c,t)}else u.reject(o);else u.reject(o)}},o.open(e,t,!0),o.setRequestHeader("Content-Type","text/plain"),n._isNode&&o.setRequestHeader("User-Agent","Parse/"+n.VERSION+" (NodeJS "+process.versions.node+")"),o.send(r)};return c(),u._thenRunCallbacks(a)},n._extend=function(e,n){var t=i(this,e,n);return t.extend=this.extend,t},n._request=function(e){var t=e.route,r=e.className,i=e.objectId,o=e.method,a=e.useMasterKey,u=e.sessionToken,s=e.data;if(!n.applicationId)throw new Error("You must specify your applicationId using Parse.initialize.");if(!n.javaScriptKey&&!n.masterKey)throw new Error("You must specify a key using Parse.initialize.");if("batch"!==t&&"classes"!==t&&"events"!==t&&"files"!==t&&"functions"!==t&&"login"!==t&&"logout"!==t&&"push"!==t&&"requestPasswordReset"!==t&&"rest_verify_analytics"!==t&&"users"!==t&&"jobs"!==t&&"config"!==t&&"sessions"!==t&&"upgradeToRevocableSession"!==t)throw new Error("Bad route: '"+t+"'.");var c=n.serverURL;if("/"!==c.charAt(c.length-1)&&(c+="/"),c+="1/"+t,r&&(c+="/"+r),i&&(c+="/"+i),s=n._.clone(s||{}),"POST"!==o&&(s._method=o,o="POST"),n._.isUndefined(a)&&(a=n._useMasterKey),s._ApplicationId=n.applicationId,a){if(!n.masterKey)throw new Error("Cannot use the Master Key, it has not been provided.");s._MasterKey=n.masterKey}else s._JavaScriptKey=n.javaScriptKey;return s._ClientVersion=n.VERSION,n._getInstallationId().then(function(e){return s._InstallationId=e,u?n.Promise.as({_sessionToken:u}):n.User._canUseCurrentUser()?n.User._currentAsync():n.Promise.as(null)}).then(function(e){e&&e._sessionToken&&(s._SessionToken=e._sessionToken),n.User._isRevocableSessionEnabled&&(s._RevocableSession="1");var t=JSON.stringify(s);return n._ajax(o,c,t)}).then(null,function(e){var t;if(e&&e.responseText)try{var r=JSON.parse(e.responseText);t=new n.Error(r.code,r.error)}catch(i){t=new n.Error(n.Error.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else t=new n.Error(n.Error.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(e));return n.Promise.error(t)})},n._getValue=function(e,t){return e&&e[t]?n._.isFunction(e[t])?e[t]():e[t]:null},n._encode=function(e,t,r){var i=n._;if(e instanceof n.Object){if(r)throw new Error("Parse.Objects not allowed here");if(!t||i.include(t,e)||!e._hasData)return e._toPointer();if(!e.dirty())return t=t.concat(e),n._encode(e._toFullJSON(t),t,r);throw new Error("Tried to save an object with a pointer to a new, unsaved object.")}if(e instanceof n.ACL)return e.toJSON();if(i.isDate(e)){if(isNaN(e))throw new Error("Cannot encode invalid Date");return{__type:"Date",iso:e.toJSON()}}if(e instanceof n.GeoPoint)return e.toJSON();if(i.isArray(e))return i.map(e,function(e){return n._encode(e,t,r)});if(i.isRegExp(e))return e.source;if(e instanceof n.Relation)return e.toJSON();if(e instanceof n.Op)return e.toJSON();if(e instanceof n.File){if(!e.url())throw new Error("Tried to save an object containing an unsaved file.");return{__type:"File",name:e.name(),url:e.url()}}if(i.isObject(e)){var o={};return n._objectEach(e,function(e,i){o[i]=n._encode(e,t,r)}),o}return e},n._decode=function(e,t){var r=n._;if(!r.isObject(t))return t;if(r.isArray(t))return n._arrayEach(t,function(e,r){t[r]=n._decode(r,e)}),t;if(t instanceof n.Object)return t;if(t instanceof n.File)return t;if(t instanceof n.Op)return t;if(t.__op)return n.Op._decode(t);if("Pointer"===t.__type&&t.className){var i=n.Object._create(t.className);return i._finishFetch({objectId:t.objectId},!1),i}if("Object"===t.__type&&t.className){var o=t.className;delete t.__type,delete t.className;var a=n.Object._create(o);return a._finishFetch(t,!0),a}if("Date"===t.__type)return n._parseDate(t.iso);if("GeoPoint"===t.__type)return new n.GeoPoint({latitude:t.latitude,longitude:t.longitude});if("ACL"===e)return t instanceof n.ACL?t:new n.ACL(t);if("Relation"===t.__type){var u=new n.Relation(null,e);return u.targetClassName=t.className,u}if("File"===t.__type){var s=new n.File(t.name);return s._url=t.url,s}return n._objectEach(t,function(e,r){t[r]=n._decode(r,e)}),t},n._arrayEach=n._.each,n._traverse=function(e,t,r){if(e instanceof n.Object){if(r=r||[],n._.indexOf(r,e)>=0)return;return r.push(e),n._traverse(e.attributes,t,r),t(e)}return e instanceof n.Relation||e instanceof n.File?t(e):n._.isArray(e)?(n._.each(e,function(i,o){var a=n._traverse(i,t,r);a&&(e[o]=a)}),t(e)):n._.isObject(e)?(n._each(e,function(i,o){var a=n._traverse(i,t,r);a&&(e[o]=a)}),t(e)):t(e)},n._objectEach=n._each=function(e,t){var r=n._;r.isObject(e)?r.each(r.keys(e),function(n){t(e[n],n)}):r.each(e,t)},n._isNullOrUndefined=function(e){return n._.isNull(e)||n._.isUndefined(e)}}(this),function(e){e.Parse=e.Parse||{};var n=e.Parse,t={async:!1},r="undefined"!=typeof localStorage;if(r)try{localStorage.setItem("supported",!0),localStorage.removeItem("supported")}catch(i){r=!1}if(r)t.getItem=function(e){return localStorage.getItem(e)},t.setItem=function(e,n){return localStorage.setItem(e,n)},t.removeItem=function(e){return localStorage.removeItem(e)},t.clear=function(){return localStorage.clear()};else if("function"==typeof require&&"undefined"==typeof require.ensure){var o;try{o=require("AsyncStorage"),t.async=!0,t.getItemAsync=function(e){var t=new n.Promise;return o.getItem(e,function(e,n){e?t.reject(e):t.resolve(n)}),t},t.setItemAsync=function(e,t){var r=new n.Promise;return o.setItem(e,t,function(e){e?r.reject(e):r.resolve(t)}),r},t.removeItemAsync=function(e){var t=new n.Promise;return o.removeItem(e,function(e){e?t.reject(e):t.resolve()}),t},t.clear=function(){o.clear()}}catch(i){}}if(!t.async&&!t.getItem){var a=t.inMemoryMap={};t.getItem=function(e){return a.hasOwnProperty(e)?a[e]:null},t.setItem=function(e,n){a[e]=String(n)},t.removeItem=function(e){delete a[e]},t.clear=function(){for(var e in a)a.hasOwnProperty(e)&&delete a[e]}}t.async||(t.getItemAsync=function(e){return n.Promise.as(t.getItem(e))},t.setItemAsync=function(e,r){return t.setItem(e,r),n.Promise.as(r)},t.removeItemAsync=function(e){return n.Promise.as(t.removeItem(e))}),n.Storage=t}(this),function(e){e.Parse=e.Parse||{};var n=e.Parse,t=n._;n.Analytics=n.Analytics||{},t.extend(n.Analytics,{track:function(e,r,i){if(e=e||"",e=e.replace(/^\s*/,""),e=e.replace(/\s*$/,""),0===e.length)throw new Error("A name for the custom event must be provided");return t.each(r,function(e,n){if(!t.isString(n)||!t.isString(e))throw new Error('track() dimensions expects keys and values of type "string".')}),i=i||{},n._request({route:"events",className:e,method:"POST",data:{dimensions:r}})._thenRunCallbacks(i)}})}(this),function(e){e.Parse=e.Parse||{};var n=e.Parse,t=n._;n.Config=function(){this.attributes={},this._escapedAttributes={}},n.Config.current=function(){if(n.Config._currentConfig)return n.Config._currentConfig;var e=new n.Config;if(n.Storage.async)return e;var t=n.Storage.getItem(n._getParsePath(n.Config._CURRENT_CONFIG_KEY));return t&&(e._finishFetch(JSON.parse(t)),n.Config._currentConfig=e),e},n.Config.get=function(e){e=e||{};var t=n._request({route:"config",method:"GET"});return t.then(function(e){if(!e||!e.params){var t=new n.Error(n.Error.INVALID_JSON,"Config JSON response invalid.");return n.Promise.error(t)}var r=new n.Config;return r._finishFetch(e),n.Config._currentConfig=r,r})._thenRunCallbacks(e)},n.Config.prototype={escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var i,o=this.attributes[e];return i=n._isNullOrUndefined(o)?"":t.escape(o.toString()),this._escapedAttributes[e]=i,i},get:function(e){return this.attributes[e]},_finishFetch:function(e){this.attributes=n._decode(null,t.clone(e.params)),n.Storage.async||n.Storage.setItem(n._getParsePath(n.Config._CURRENT_CONFIG_KEY),JSON.stringify(e))}},n.Config._currentConfig=null,n.Config._CURRENT_CONFIG_KEY="currentConfig"}(this),function(e){e.Parse=e.Parse||{};var n=e.Parse,t=n._;n.Error=function(e,n){this.code=e,this.message=n},t.extend(n.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,FILE_DELETE_ERROR:153,REQUEST_LIMIT_EXCEEDED:155,INVALID_EVENT_NAME:160,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,INVALID_SESSION_TOKEN:209,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,AGGREGATE_ERROR:600,FILE_READ_ERROR:601,X_DOMAIN_REQUEST:602})}(this),function(){var e=this,n=e.Parse||(e.Parse={}),t=/\s+/,r=Array.prototype.slice;n.Events={on:function(e,n,r){var i,o,a,u,s;if(!n)return this;for(e=e.split(t),i=this._callbacks||(this._callbacks={}),o=e.shift();o;)s=i[o],a=s?s.tail:{},a.next=u={},a.context=r,a.callback=n,i[o]={tail:u,next:s?s.next:a},o=e.shift();return this},off:function(e,n,r){var i,o,a,u,s,c;if(o=this._callbacks){if(!(e||n||r))return delete this._callbacks,this;for(e=e?e.split(t):Object.keys(o),i=e.shift();i;)if(a=o[i],delete o[i],a&&(n||r)){for(u=a.tail,a=a.next;a!==u;)s=a.callback,c=a.context,(n&&s!==n||r&&c!==r)&&this.on(i,s,c),a=a.next;i=e.shift()}else i=e.shift();return this}},trigger:function(e){var n,i,o,a,u,s,c;if(!(o=this._callbacks))return this;for(s=o.all,e=e.split(t),c=r.call(arguments,1),n=e.shift();n;){if(i=o[n])for(a=i.tail;(i=i.next)!==a;)i.callback.apply(i.context||this,c);if(i=s)for(a=i.tail,u=[n].concat(c);(i=i.next)!==a;)i.callback.apply(i.context||this,u);n=e.shift()}return this}},n.Events.bind=n.Events.on,n.Events.unbind=n.Events.off}.call(this);
//# sourceMappingURL=parsebone.min.js.map
